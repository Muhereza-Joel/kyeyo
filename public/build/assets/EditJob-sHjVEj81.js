import{r as d,m as E,a as A,j as e,L as F}from"./app-DofdhDlf.js";import{A as J,a as P}from"./AlertSuccess-BZWRwnZU.js";import{I as o}from"./InputError-CJnewLnD.js";import{I as n}from"./InputLabel-Cclb1mcP.js";import{P as B}from"./PrimaryButton-B3at0oRx.js";import{Q as D}from"./QuillEditor-DiVgpFov.js";import{T as L}from"./TextInput-D-4QZOpP.js";import{A as R,u as Q}from"./AuthenticatedLayout--WEj07KO.js";import{k as U}from"./index-BlwJtI6Y.js";import{S as c}from"./SelectInput-Bbj_hgf6.js";import{B as q}from"./BackArrow-BCZwj-_T.js";import"./ApplicationLogo-BpriETFE.js";import"./transition-DCcBHnqm.js";function se({auth:j,permissions:u,success:p,error:x,job:t,professions:f,industries:v,seniorities:b,avator:y}){const N=d.useRef(null),{can:g}=Q(u),{data:a,setData:i,put:_,processing:S,errors:l}=E({title:t.title,profession_id:t.profession_id,industry_id:t.industry_id,seniority_id:t.seniority_id,description:t.description,tags:t.tags.map(s=>s.name.en).join(", ")}),[w,k]=d.useState([]),[m,h]=d.useState([]);d.useEffect(()=>{A.get("/tags").then(s=>{k(s.data)}),h(t.tags.map(s=>s.name.en))},[]);const T=s=>{let r;m.includes(s)?r=m.filter(I=>I!==s):r=[...m,s],h(r),i("tags",r.join(", "))},C=s=>{s.preventDefault(),_(route("jobs.update",t.id),{onSuccess:()=>{}})};return e.jsxs(R,{user:j.user,permissions:u,avator:y,header:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(q,{link:"jobs.index"})}),children:[e.jsx(F,{title:"Create Job"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[p&&e.jsx(J,{success:p}),x&&e.jsx(P,{error:x}),e.jsx("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:g("Create Job")&&e.jsx("form",{onSubmit:C,className:"space-y-8 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",value:"Job Title"}),e.jsx(L,{id:"title",name:"title",value:a.title,className:"mt-1 block w-full",autoComplete:"title",onChange:s=>i("title",s.target.value),placeholder:"Job title goes here."}),e.jsx(o,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"profession",value:"Profession"}),e.jsx(c,{id:"profession_id",name:"profession_id",className:"mt-1 block w-full",value:a.profession_id,options:[{value:"",label:"Select Profession"},...f.map(s=>({value:s.id,label:s.name}))],onChange:s=>i("profession_id",s.target.value)}),e.jsx(o,{message:l.profession_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"industry",value:"Industry"}),e.jsx(c,{id:"industry_id",name:"industry_id",className:"mt-1 block w-full",value:a.industry_id,options:[{value:"",label:"Select Industry"},...v.map(s=>({value:s.id,label:s.name}))],onChange:s=>i("industry_id",s.target.value)}),e.jsx(o,{message:l.industry_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"seniority",value:"Seniority"}),e.jsx(c,{id:"seniority_id",name:"seniority_id",className:"mt-1 block w-full",value:a.seniority_id,options:[{value:"",label:"Select Seniority"},...b.map(s=>({value:s.id,label:s.name}))],onChange:s=>i("seniority_id",s.target.value)}),e.jsx(o,{message:l.seniority_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",value:"Job Description"}),e.jsx(D,{id:"description",ref:N,value:a.description,onChange:s=>i("description",s.target.value),style:{height:"300px",marginBottom:"3.5em"},placeholder:"Write job description here..."}),e.jsx(o,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{className:"my-3 relative",children:[e.jsx(n,{htmlFor:"tags",value:"Tags (comma separated)"}),e.jsxs("div",{className:"flex items-start bg-blue-100 text-blue-700 p-3 rounded-lg mb-3 text-sm",children:[e.jsx(U,{className:"mr-2 mt-1"}),e.jsxs("span",{children:["Tags help job seekers find relevant jobs more easily. Use keywords like"," ",e.jsx("strong",{children:"Plumber, Electrician, Mason"})," ","to categorize your job."]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:w.map((s,r)=>e.jsx("span",{className:`px-3 py-1 text-sm rounded-full cursor-pointer transition ${m.includes(s)?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>T(s),children:s},r))}),e.jsx("input",{type:"hidden",name:"tags",value:a.tags}),e.jsx(o,{message:l.tags,className:"mt-2"})]}),g("Update Job")&&e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(B,{className:"ms-0 mt-2 mb-3",disabled:S,children:"Save"})})]})})})]})})]})}export{se as default};
