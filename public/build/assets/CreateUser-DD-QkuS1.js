import{m as f,j as e,L as v}from"./app-tivWJvp6.js";import{A as b,a as w}from"./AlertSuccess-8NrKJLtn.js";import{I as l}from"./InputError-DDmWR0Ah.js";import{I as t}from"./InputLabel-DJAYo9Sg.js";import{P as N}from"./PrimaryButton-DQTCPIK6.js";import{S as y}from"./SelectInput-SH3srNIP.js";import{T as m}from"./TextInput-DhvUhrjg.js";import{A as C,u as k}from"./AuthenticatedLayout-DYZWC_Nm.js";import"./ApplicationLogo-BCAIRMQh.js";import"./transition-B3xeowyv.js";function D({auth:u,success:i,error:n,permissions:d,roles:x}){const{can:c}=k(d),{data:o,setData:a,post:p,processing:h,errors:r,reset:g}=f({name:"",email:"",password:""}),j=s=>{s.preventDefault(),p(route("users.store"),{onSuccess:()=>g()})};return e.jsxs(C,{user:u.user,permissions:d,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-100 dark:text-gray-200 leading-tight",children:"Create New User"}),children:[e.jsx(v,{title:"Create New  User"}),e.jsxs("div",{className:"py-2 max-w-7xl mx-auto sm:px-6 lg:px-8",children:[i&&e.jsx(b,{success:i}),n&&e.jsx(w,{error:n}),e.jsxs("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-300 px-4 py-3 m-2 rounded relative",role:"alert",children:e.jsxs("span",{className:"block sm:inline",children:[e.jsx("strong",{children:"Note:"})," The system uses role based access model to manage access to the system. Ensure to assign the right role to the user you create from this section"]})}),e.jsx("div",{className:"px-4 pt-4 pb-2",children:c("Create User")&&e.jsx("form",{onSubmit:j,className:"space-y-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",value:"Username"}),e.jsx(m,{id:"name",name:"name",value:o.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!1,onChange:s=>a("name",s.target.value),placeholder:"Username goes here."}),e.jsx(l,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",name:"email",value:o.email,className:"mt-1 block w-full",autoComplete:"email",isFocused:!1,onChange:s=>a("email",s.target.value),placeholder:"Email of user goes here."}),e.jsx(l,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"role",value:"User Role"}),e.jsx(y,{id:"role",name:"role",isFocused:!1,className:"mt-1 block w-full",options:[{value:"",label:"Select Role"},...x.filter(s=>!(!c("Create Role")&&["root","admin"].includes(s.name))).map(s=>({value:s.uuid,label:s.name}))],onChange:s=>a("role",s.target.value)}),e.jsx(l,{message:r.role,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",value:"Password"}),e.jsx(m,{id:"password",name:"password",value:o.password,className:"mt-1 block w-full",autoComplete:"password",isFocused:!1,onChange:s=>a("password",s.target.value),placeholder:"Login password of user goes here."}),e.jsx(l,{message:r.password,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(N,{className:"ms-0 mb-3",disabled:h,children:"Save"})})]})})})]})]})]})}export{D as default};
