import{r as i,j as r,m as z,L as H}from"./app-DV4hzqak.js";import{A as O,a as T}from"./AlertSuccess-sUf4NEeF.js";import{I as F}from"./InputError-Cvw9P8BV.js";import{I as $}from"./InputLabel-C9gmeYos.js";import{P as G}from"./PrimaryButton-CGYOI5sv.js";import{S as U}from"./SelectInput-CVCbIBXx.js";import{T as V}from"./TextInput-DoKtSoW0.js";import{A as W,j as Y,C as q}from"./AuthenticatedLayout-v3mT_NA9.js";import"./ApplicationLogo-xiXgMLcC.js";import"./transition-Bfh85iG6.js";const J=i.forwardRef(function({type:u="date",className:c="",isFocused:p=!1,...a},m){const g=m||i.useRef();return i.useEffect(()=>{p&&g.current.focus()},[]),r.jsx("input",{...a,type:u,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm "+c,ref:g})});function ie({auth:x,success:u,error:c,permissions:p,user:a,logo_url:m,cover_image:g,avator:L}){var y,j,w,C,N,_,k,E;const[v,I]=i.useState(null),[f,P]=i.useState(null),[K,Q]=i.useState(!1),[b,h]=i.useState(null),{data:t,setData:l,post:S,processing:D,errors:o}=z({fullname:((y=a.profile)==null?void 0:y.fullname)||"",phone_number:((j=a.profile)==null?void 0:j.phone_number)||"",nin:((w=a.profile)==null?void 0:w.nin)||"",date_of_birth:((C=a.profile)==null?void 0:C.date_of_birth)||"",gender:((N=a.profile)==null?void 0:N.gender)||"",country:((_=a.profile)==null?void 0:_.country)||"",district:((k=a.profile)==null?void 0:k.district)||"",village:((E=a.profile)==null?void 0:E.village)||"",logo:m||null,cover_image:g||null,user_id:a.id}),A=e=>{const n=e.target.files[0];if(n){l("cover_image",n),h("cover_image");const s=new FileReader;s.onload=()=>P(s.result),s.readAsDataURL(n)}},R=e=>{const n=e.target.files[0];if(n){l("logo",n),h("logo");const s=new FileReader;s.onload=()=>I(s.result),s.readAsDataURL(n)}},M=e=>{h(b===e?null:e)},d=e=>b===e,B=e=>{e.preventDefault(),console.log(t),S(route("updateBioData"))};return r.jsxs(W,{user:x.user,permissions:p,avator:L,children:[r.jsx(H,{title:"Create Your Profile"}),r.jsxs("div",{className:"py-2 max-w-7xl mx-auto sm:px-6 lg:px-8",children:[u&&r.jsx(O,{success:u}),c&&r.jsx(T,{error:c}),r.jsx("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:r.jsx("div",{className:"px-4 pb-2",children:r.jsxs("form",{onSubmit:B,className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"relative w-full h-96 mb-20 bg-gray-200 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:[t.cover_image||f?r.jsx("img",{src:f||t.cover_image,alt:"Cover Preview",className:"w-full h-full object-cover"}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("input",{type:"file",id:"cover_image",accept:"image/*",className:"hidden",onChange:A}),r.jsx("label",{htmlFor:"cover_image",className:"absolute top-2 right-2 bg-blue-500 text-white px-4 py-2 rounded-full cursor-pointer hover:bg-blue-600 shadow-md transition-transform duration-200 transform hover:scale-105",children:"Change Cover"}),r.jsxs("div",{className:"absolute bottom-[-80px] left-1/2 transform -translate-x-1/2 w-52 h-52 bg-gray-300 dark:bg-gray-700 rounded-full border-4 border-white shadow-lg z-10",children:[t.logo||v?r.jsx("img",{src:v||t.logo,alt:"Logo Preview",className:"w-full h-full rounded-full object-cover"}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:R,className:"hidden"}),r.jsx("label",{htmlFor:"logo",className:"absolute bottom-0 right-0 w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center cursor-pointer hover:bg-green-600",children:r.jsx(Y,{className:"text-xl"})}),r.jsx(F,{message:o.logo,className:"mt-2"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:[{label:"Fullname",id:"fullname",type:"text",value:t.fullname,onChange:e=>l("fullname",e.target.value),placeholder:"Enter your fullname here",error:o.fullname},{label:"Phone Number",id:"phone_number",type:"text",value:t.phone_number,onChange:e=>l("phone_number",e.target.value),placeholder:"Enter your phone number here",error:o.phone_number},{label:"NIN Number",id:"nin",type:"text",value:t.nin,onChange:e=>l("nin",e.target.value),placeholder:"Enter your nin number here",error:o.nin},{label:"Date of Birth",id:"date_of_birth",type:"date",value:t.date_of_birth,onChange:e=>l("date_of_birth",e.target.value),placeholder:"Enter your date of birth here",error:o.date_of_birth},{label:"Gender",id:"gender",type:"select",value:t.gender,onChange:e=>l("gender",e.target.value),options:[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],error:o.gender},{label:"Home Country",id:"country",type:"text",value:t.country,onChange:e=>l("country",e.target.value),placeholder:"Enter your home country here",error:o.country},{label:"Home District",id:"district",type:"text",value:t.district,onChange:e=>l("district",e.target.value),placeholder:"Enter your home district here",error:o.district},{label:"Home Village",id:"village",type:"text",value:t.village,onChange:e=>l("village",e.target.value),placeholder:"Enter your home district here",error:o.village}].map((e,n)=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx($,{htmlFor:e.id,value:e.label}),r.jsxs("div",{className:"flex items-center",children:[e.type==="select"?r.jsx(U,{id:e.id,name:e.id,isFocused:!1,className:"mt-1 block w-full transition-all duration-200 ${isFieldEditable(field.id) ? 'bg-blue-100' : ''}",options:e.options,value:e.value,onChange:e.onChange,readOnly:!d(e.id)}):e.type==="date"?r.jsx(J,{type:"date",id:e.id,className:`mt-1 block w-full transition-all duration-200 ${d(e.id)?"bg-blue-100":""}`,value:e.value,onChange:e.onChange,placeholder:e.placeholder,autoComplete:e.id,readOnly:!d(e.id)}):r.jsx(V,{id:e.id,className:`mt-1 block w-full transition-all duration-200 ${d(e.id)?"bg-blue-100":""}`,value:e.value,onChange:e.onChange,placeholder:e.placeholder,isFocused:!0,autoComplete:e.id,readOnly:!d(e.id)}),r.jsx("button",{type:"button",onClick:()=>M(e.id),className:"ml-2 text-blue-500 hover:text-blue-700 bg-gray-200 p-2 rounded-full shadow-md transition-transform duration-200 transform hover:scale-110",children:r.jsx(q,{})})]}),r.jsx(F,{className:"mt-2",message:e.error})]},n))}),r.jsx("div",{className:"flex items-center gap-4",children:b!==null&&r.jsxs(r.Fragment,{children:[r.jsx(G,{disabled:D,type:"submit",children:"Save Changes"}),r.jsx("button",{type:"button",onClick:()=>h(null),className:"text-red-500 hover:text-red-700",children:"Cancel"})]})})]})})})]})]})}export{ie as default};
