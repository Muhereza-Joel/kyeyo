import{m as v,j as e,L as b}from"./app-BNmchAkz.js";import{A as w,a as N}from"./AlertSuccess-BIAh9Daz.js";import{I as l}from"./InputError-BavNw4XH.js";import{I as t}from"./InputLabel-ZSDNMwfV.js";import{P as y}from"./PrimaryButton-CBSXVU2W.js";import{S as C}from"./SelectInput-aXv6Ld2H.js";import{T as m}from"./TextInput-DqTqFbTw.js";import{A as k,u as F}from"./AuthenticatedLayout-BN00y4uf.js";import"./ApplicationLogo-DKymsX-5.js";import"./transition-CBIxjBov.js";import"./index-CaCI9Fab.js";function q({auth:u,success:i,error:n,permissions:d,roles:x,avator:p}){const{can:c}=F(d),{data:o,setData:a,post:h,processing:g,errors:r,reset:j}=v({name:"",email:"",password:""}),f=s=>{s.preventDefault(),h(route("users.store"),{onSuccess:()=>j()})};return e.jsxs(k,{user:u.user,permissions:d,avator:p,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-100 dark:text-gray-200 leading-tight",children:"Create New User"}),children:[e.jsx(b,{title:"Create New  User"}),e.jsxs("div",{className:"py-2 max-w-7xl mx-auto sm:px-6 lg:px-8",children:[i&&e.jsx(w,{success:i}),n&&e.jsx(N,{error:n}),e.jsxs("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-300 px-4 py-3 m-2 rounded relative",role:"alert",children:e.jsxs("span",{className:"block sm:inline",children:[e.jsx("strong",{children:"Note:"})," The system uses role based access model to manage access to the system. Ensure to assign the right role to the user you create from this section"]})}),e.jsx("div",{className:"px-4 pt-4 pb-2",children:c("Create User")&&e.jsx("form",{onSubmit:f,className:"space-y-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",value:"Username"}),e.jsx(m,{id:"name",name:"name",value:o.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!1,onChange:s=>a("name",s.target.value),placeholder:"Username goes here."}),e.jsx(l,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",name:"email",value:o.email,className:"mt-1 block w-full",autoComplete:"email",isFocused:!1,onChange:s=>a("email",s.target.value),placeholder:"Email of user goes here."}),e.jsx(l,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"role",value:"User Role"}),e.jsx(C,{id:"role",name:"role",isFocused:!1,className:"mt-1 block w-full",options:[{value:"",label:"Select Role"},...x.filter(s=>!(!c("Create Role")&&["root","admin"].includes(s.name))).map(s=>({value:s.uuid,label:s.name}))],onChange:s=>a("role",s.target.value)}),e.jsx(l,{message:r.role,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",value:"Password"}),e.jsx(m,{id:"password",name:"password",value:o.password,className:"mt-1 block w-full",autoComplete:"password",isFocused:!1,onChange:s=>a("password",s.target.value),placeholder:"Login password of user goes here."}),e.jsx(l,{message:r.password,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(y,{className:"ms-0 mb-3",disabled:g,children:"Save"})})]})})})]})]})]})}export{q as default};
