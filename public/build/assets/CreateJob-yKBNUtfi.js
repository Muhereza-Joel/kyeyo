import{r as n,m as J,a as E,j as e,L as F,$ as A}from"./app-CA-D8mlD.js";import{A as P,a as L}from"./AlertSuccess-K-jVCGc4.js";import{I as l}from"./InputError-DDseUrKr.js";import{I as r}from"./InputLabel-ynzSfk4q.js";import{P as B}from"./PrimaryButton-CVWZMUoo.js";import{Q as D}from"./QuillEditor-Sqt4eyoa.js";import{T as R}from"./TextInput-CwkYSOcd.js";import{A as $,u as Q,k as q,d as z}from"./AuthenticatedLayout-D3xjip6N.js";import{S as u}from"./SelectInput-FKxuOrb-.js";import"./ApplicationLogo-BNJYVUAB.js";import"./transition-CUfgUVHM.js";function ee({auth:h,permissions:x,success:p,error:g,professions:j,industries:b,seniorities:v,avator:y}){const d=n.useRef(null),{can:m}=Q(x),{data:c,setData:t,post:N,processing:w,errors:a,reset:S}=J({title:"",description:"",profession_id:"",industry_id:"",seniority_id:"",tags:""}),[C,_]=n.useState([]),[o,f]=n.useState([]);n.useEffect(()=>{E.get("/tags").then(s=>{_(s.data)})},[]);const k=s=>{let i;o.includes(s)?i=o.filter(I=>I!==s):i=[...o,s],f(i),t("tags",i.join(", "))},T=s=>{s.preventDefault(),N(route("jobs.store"),{onSuccess:()=>{S(),f([]),d.current&&d.current.getEditor().setText("")}})};return e.jsxs($,{user:h.user,permissions:x,avator:y,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-100 dark:text-gray-200 leading-tight",children:"Create New Job Entry"}),e.jsx("div",{className:"flex",children:m("View Jobs")&&e.jsxs(A,{href:route("jobs.index"),className:"inline-flex items-center px-4 py-2 bg-blue-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150",children:[e.jsx(z,{size:20,className:"mr-3"}),"Go Back"]})})]}),children:[e.jsx(F,{title:"Create Job"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[p&&e.jsx(P,{success:p}),g&&e.jsx(L,{error:g}),e.jsx("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:m("Create Job")&&e.jsx("form",{onSubmit:T,className:"space-y-8 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"title",value:"Job Title"}),e.jsx(R,{id:"title",name:"title",value:c.title,className:"mt-1 block w-full",autoComplete:"title",onChange:s=>t("title",s.target.value),placeholder:"Job title goes here."}),e.jsx(l,{message:a.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"profession",value:"Profession"}),e.jsx(u,{id:"profession_id",name:"profession_id",className:"mt-1 block w-full",options:[{value:"",label:"Select Profession"},...j.map(s=>({value:s.id,label:s.name}))],onChange:s=>t("profession_id",s.target.value)}),e.jsx(l,{message:a.profession_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"industry",value:"Industry"}),e.jsx(u,{id:"industry_id",name:"industry_id",className:"mt-1 block w-full",options:[{value:"",label:"Select Industry"},...b.map(s=>({value:s.id,label:s.name}))],onChange:s=>t("industry_id",s.target.value)}),e.jsx(l,{message:a.industry_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"seniority",value:"Seniority"}),e.jsx(u,{id:"seniority_id",name:"seniority_id",className:"mt-1 block w-full",options:[{value:"",label:"Select Seniority"},...v.map(s=>({value:s.id,label:s.name}))],onChange:s=>t("seniority_id",s.target.value)}),e.jsx(l,{message:a.seniority_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",value:"Job Description"}),e.jsx(D,{id:"description",ref:d,value:c.description,onChange:s=>t("description",s.target.value),style:{height:"300px",marginBottom:"3.5em"},placeholder:"Write job description here..."}),e.jsx(l,{message:a.description,className:"mt-2"})]}),e.jsxs("div",{className:"my-3",children:[e.jsx(r,{htmlFor:"tags",value:"Select Tags"}),e.jsxs("div",{className:"flex items-start bg-blue-100 text-blue-700 p-3 rounded-lg mb-3 text-sm",children:[e.jsx(q,{className:"mr-2 mt-1"}),e.jsx("span",{children:"Click on tags to select them. Tags help job seekers find relevant jobs more easily."})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:C.map((s,i)=>e.jsx("span",{className:`px-3 py-1 text-sm rounded-full cursor-pointer transition ${o.includes(s)?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>k(s),children:s},i))}),e.jsx("input",{type:"hidden",name:"tags",value:c.tags}),e.jsx(l,{message:a.tags,className:"mt-2"})]}),m("Create Job")&&e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(B,{className:"ms-0 mt-2 mb-3",disabled:w,children:"Save"})})]})})})]})})]})}export{ee as default};
