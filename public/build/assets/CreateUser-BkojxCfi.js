import{m as v,j as e,L as b}from"./app-DofdhDlf.js";import{A as w,a as N}from"./AlertSuccess-BZWRwnZU.js";import{B as k}from"./BackArrow-BCZwj-_T.js";import{I as l}from"./InputError-CJnewLnD.js";import{I as o}from"./InputLabel-Cclb1mcP.js";import{P as C}from"./PrimaryButton-B3at0oRx.js";import{S as y}from"./SelectInput-Bbj_hgf6.js";import{T as m}from"./TextInput-D-4QZOpP.js";import{A as F,u as S}from"./AuthenticatedLayout--WEj07KO.js";import"./index-BlwJtI6Y.js";import"./ApplicationLogo-BpriETFE.js";import"./transition-DCcBHnqm.js";function G({auth:u,success:i,error:n,permissions:d,roles:x,avator:p}){const{can:c}=S(d),{data:t,setData:a,post:h,processing:j,errors:r,reset:g}=v({name:"",email:"",password:""}),f=s=>{s.preventDefault(),h(route("users.store"),{onSuccess:()=>g()})};return e.jsxs(F,{user:u.user,permissions:d,avator:p,header:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(k,{link:"users.index"})}),children:[e.jsx(b,{title:"Create New  User"}),e.jsxs("div",{className:"py-2 max-w-7xl mx-auto sm:px-6 lg:px-8",children:[i&&e.jsx(w,{success:i}),n&&e.jsx(N,{error:n}),e.jsxs("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-300 px-4 py-3 m-2 rounded relative",role:"alert",children:e.jsxs("span",{className:"block sm:inline",children:[e.jsx("strong",{children:"Note:"})," The system uses role based access model to manage access to the system. Ensure to assign the right role to the user you create from this section"]})}),e.jsx("div",{className:"px-4 pt-4 pb-2",children:c("Create User")&&e.jsx("form",{onSubmit:f,className:"space-y-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",value:"Username"}),e.jsx(m,{id:"name",name:"name",value:t.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!1,onChange:s=>a("name",s.target.value),placeholder:"Username goes here."}),e.jsx(l,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",name:"email",value:t.email,className:"mt-1 block w-full",autoComplete:"email",isFocused:!1,onChange:s=>a("email",s.target.value),placeholder:"Email of user goes here."}),e.jsx(l,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"role",value:"User Role"}),e.jsx(y,{id:"role",name:"role",isFocused:!1,className:"mt-1 block w-full",options:[{value:"",label:"Select Role"},...x.filter(s=>!(!c("Create Role")&&["root","admin"].includes(s.name))).map(s=>({value:s.uuid,label:s.name}))],onChange:s=>a("role",s.target.value)}),e.jsx(l,{message:r.role,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password",value:"Password"}),e.jsx(m,{id:"password",name:"password",value:t.password,className:"mt-1 block w-full",autoComplete:"password",isFocused:!1,onChange:s=>a("password",s.target.value),placeholder:"Login password of user goes here."}),e.jsx(l,{message:r.password,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(C,{className:"ms-0 mb-3",disabled:j,children:"Save"})})]})})})]})]})]})}export{G as default};
